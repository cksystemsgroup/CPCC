<html t:type="layout" title="${message:taskOverview}"
	xmlns:t="http://tapestry.apache.org/schema/tapestry_5_4.xsd"
	xmlns:p="tapestry:parameter">

<!-- <div class="row"> -->
<!-- 	<div class="col-md-12"> -->
<h4>${message:currentRunningTask}</h4>

<t:Zone t:id="zone1" t:mixins="ZoneRefresh" ZoneRefresh.period="1">
	<!-- ZoneRefresh.context="'show'" -->
	<t:Grid t:source="getCurrentActiveTaskList()"
		t:row="currentRunningTask" t:exclude="completed,lastInTaskGroup"
		t:reorder="creationTime,position,tolerance,sensors"
		t:add="position,sensors"
		class="table table-striped table-condensed topic-table">

		<p:positionCell>
			${currentRunningTask.getPosition().toString()}
		</p:positionCell>

		<p:creationTimeCell>
			${getTime(currentRunningTask.creationTime)}
		</p:creationTimeCell>

		<p:lastInTaskGroupCell>
			${currentRunningTask.lastInTaskGroup}
		</p:lastInTaskGroupCell>

		<p:sensorsCell>
			${getSortedSensorList(currentRunningTask)}
		</p:sensorsCell>

		<p:empty>
			<p>${message:noCurrentRunningTaskFound}</p>
		</p:empty>
	</t:Grid>
	<!-- </t:Zone> -->
	<!-- 	</div> -->
	<!-- </div> -->

	<!-- <div class="row"> -->
	<!-- 	<div class="col-md-12"> -->
	<h4>${message:scheduledTaskList}</h4>

	<!-- <t:Zone t:id="zone2" t:mixins="ZoneRefresh" ZoneRefresh.period="1"> -->
	<!-- ZoneRefresh.context="'show'" -->
	<t:Grid t:source="tes.getScheduledTasks()" t:row="scheduledTask"
		t:exclude="completed,lastInTaskGroup"
		t:reorder="creationTime,position,tolerance,sensors"
		t:add="position,sensors"
		class="table table-striped table-condensed topic-table">

		<p:positionCell>
			${scheduledTask.position.toString()}
		</p:positionCell>

		<p:creationTimeCell>
			<t:Output t:format="message:dateFormat" t:value="scheduledTask.creationTime" />
		</p:creationTimeCell>

		<p:lastInTaskGroupCell>
			${scheduledTask.lastInTaskGroup}
		</p:lastInTaskGroupCell>

		<p:sensorsCell>
			${sortedSensorList}
		</p:sensorsCell>

		<p:empty>
			<p>${message:noScheduledTaskFound}</p>
		</p:empty>
	</t:Grid>
	<!-- </t:Zone> -->
	<!-- 	</div> -->
	<!-- </div> -->

	<!-- <div class="row"> -->
	<!-- 	<div class="col-md-12"> -->
	<h4>${message:pendingTaskList}</h4>

	<!-- <t:Zone t:id="zone3" t:mixins='ZoneRefresh' ZoneRefresh.period='1'> -->
	<!-- ZoneRefresh.context="'show'" -->
	<t:Grid t:source="tes.getPendingTasks()" t:row="pendingTask"
		t:exclude="completed,lastInTaskGroup"
		t:reorder="creationTime,position,tolerance,sensors"
		t:add="position,sensors"
		class="table table-striped table-condensed topic-table">

		<p:positionCell>
			${pendingTask.getPosition().toString()}
		</p:positionCell>

		<p:creationTimeCell>
			${getTime(pendingTask.creationTime)}
		</p:creationTimeCell>

		<p:lastInTaskGroupCell>
			${pendingTask.lastInTaskGroup}
		</p:lastInTaskGroupCell>

		<p:sensorsCell>
			${getSortedSensorList(pendingTask)}
		</p:sensorsCell>

		<p:empty>
			<p>${message:noPendingTaskFound}</p>
		</p:empty>
	</t:Grid>
</t:Zone>
<!-- 	</div> -->
<!-- </div> -->
</html>
